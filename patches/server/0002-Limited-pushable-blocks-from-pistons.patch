From befd590a4161250f5d1091d7574e1b8426cd482f Mon Sep 17 00:00:00 2001
From: JOO200 <github@joo200.de>
Date: Sat, 7 Mar 2020 22:53:11 +0100
Subject: [PATCH] Limited pushable blocks from pistons

fixed mapping fuer bloecke
---
 src/main/java/net/minecraft/server/Block.java | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/src/main/java/net/minecraft/server/Block.java b/src/main/java/net/minecraft/server/Block.java
index e40375b67..2655643c6 100644
--- a/src/main/java/net/minecraft/server/Block.java
+++ b/src/main/java/net/minecraft/server/Block.java
@@ -596,6 +596,11 @@ public class Block implements IMaterial {
 
     @Deprecated
     public EnumPistonReaction getPushReaction(IBlockData iblockdata) {
+        // TerraPaper -- start block materials
+        List<String> blocked = com.destroystokyo.paper.PaperConfig.config.getStringList("blockedPistonMaterials");
+        if(blocked.contains(k())) return EnumPistonReaction.BLOCK;
+        // TerraPaper -- end
+
         return this.material.getPushReaction();
     }
 
-- 
2.24.1.windows.2

